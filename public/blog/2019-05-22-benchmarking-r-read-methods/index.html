<!DOCTYPE html>
<html lang="en"><head>
    <title>SCATTER PODCAST</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#000084" />
    <link rel="icon" href="//favicon.ico">
    <link rel="canonical" href="/">
    
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="/css/style.css">
    
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"></button>
            <a class="brand" href="/">SCATTER PODCAST</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
                    
                        
                            <li>
                                <a href="/about/">
                                    
                                    <span>About</span>
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/blog/">
                                    
                                    <span>Blog</span>
                                </a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
    </div>
</nav><div id="content" class="container">

<div class="row-fluid navmargin">
    <div class="page-header">
        <h1>Benchmarking CSV File Read Times - Wed, May 22, 2019</h1>
    </div>
    <p class="lead"></p>
    <p>I have been running code for a client project and each CSV file is 300MB with over 400,000 records. Base R was not cutting it for me and I was wasting too much time staring at my local system waiting for my files to be read. So&hellip;</p>
<p>I found the microbenchmark package and started exploring faster file read methods relative to base R. I discovered Tidyverse&rsquo;s readr and vroom packages, and while I had used the data.table package many times, I did not realize that data.table had its own file read function (i.e., &ldquo;fread&rdquo;). To evaluate the different read methods, I loaded my csv data set 10 times using each method and plotted the results above. At least for my purely numerical data set, data.table was the clear winner followed by vroom. One major caveat here is that not all of these methods are made equal&hellip; Per the Tidyverse vroom writeup:</p>
<ul>
<li>&ldquo;The main reason <em>vroom</em> can be faster is because character data is read from the file lazily; you only pay for the data you use. This lazy access is done automatically, so no changes to your R data-manipulation code are needed.&rdquo;</li>
<li>I believe data.table operates in a similar pay-as-you-play manner</li>
</ul>
<p>The above visualization was done in R using the microbenchmark package, ggplot2 for base plotting framework, and ggthemes package for <em>The Economist</em> color theme and styling.</p>
<p>File Read Sources:</p>
<ul>
<li><a href="https://readr.tidyverse.org/">Tidyverse&rsquo;s readr</a></li>
<li><a href="https://github.com/Rdatatable/data.table/wiki">data.table on GitHub</a></li>
<li><a href="https://www.tidyverse.org/articles/2019/05/vroom-1-0-0/">Tidyverse&rsquo;s vroom</a></li>
</ul>
<p>Visualization Sources:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/microbenchmark/index.html">microbenchmark</a></li>
<li><a href="https://ggplot2.tidyverse.org/">ggplot2</a></li>
<li><a href="https://www.ggplot2-exts.org/ggthemes.html">ggthemes</a></li>
</ul>
    <h4><a href="/">Back to Home</a></h4>
</div>


        </div><footer class="container">
    <hr class="soften">
    <p>
        &copy; 
        
            SCATTER PODCAST
        
        <span id="thisyear">2020</span>
        
             | Built on <a href="//gohugo.io" target="_blank">Hugo</a>
        
    </p>
    <p class="text-center">
        
        
        <a href="https://www.linkedin.com/company/scatter-podcast/">Linkedin</a> 
        
        
    </p>
</footer>

<script src="/js/jquery.js"></script>
<script src="/js/bootstrap-386.js"></script>
<script src="/js/bootstrap-transition.js"></script>
<script src="/js/bootstrap-alert.js"></script>
<script src="/js/bootstrap-modal.js"></script>
<script src="/js/bootstrap-dropdown.js"></script>
<script src="/js/bootstrap-scrollspy.js"></script>
<script src="/js/bootstrap-tab.js"></script>
<script src="/js/bootstrap-tooltip.js"></script>
<script src="/js/bootstrap-popover.js"></script>
<script src="/js/bootstrap-button.js"></script>
<script src="/js/bootstrap-collapse.js"></script>
<script src="/js/bootstrap-carousel.js"></script>
<script src="/js/bootstrap-typeahead.js"></script>
<script src="/js/bootstrap-affix.js"></script>
<script>
    _386 = { 
        fastLoad: false ,
        onePass: false , 
        speedFactor: 1 
    };

    
    function ThisYear() {
        document.getElementById('thisyear').innerHTML = new Date().getFullYear();
    };
</script></body>
</html>
